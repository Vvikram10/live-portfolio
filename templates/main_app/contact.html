{% extends 'main_app/base.html' %}
{% load static %}
{% block title %}Vikram-Contact{% endblock title %}

{% block content %}
<!-- Contact Section -->
<section class="contact-section py-5 mt-5">
    <div class="container">
        <!-- Section Header -->
        <div class="row text-center mb-5" data-aos="fade-up">
            <div class="">
                <h1 class="display-4 fw-bold mb-3 text-center text-white bg-dark bg-gradient  py-2">Contact Me</h1>
                <p class="lead text-muted">Let's work together to create something amazing!</p>
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
            </div>
        </div>

        <div class="row g-5">
            <!-- Contact Information -->
            <div class="col-lg-4" data-aos="fade-right">
                <!-- Contact Cards -->
                <div class="contact-cards">
                    <!-- Email Card -->
                    <div class="card border-0 shadow-sm mb-4 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon-box mb-4">
                                <i class="fas fa-envelope text-primary fa-2x"></i>
                            </div>
                            <h3 class="h5 mb-3">Email</h3>
                            <p class="text-muted mb-0">vvikram7102@gmail.com</p>
                        </div>
                    </div>

                    <!-- Phone Card -->
                    <div class="card border-0 shadow-sm mb-4 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon-box mb-4">
                                <i class="fas fa-phone text-primary fa-2x"></i>
                            </div>
                            <h3 class="h5 mb-3">Phone</h3>
                            <p class="text-muted mb-0">+91 7999687102</p>
                        </div>
                    </div>

                    <!-- Location Card -->
                    <div class="card border-0 shadow-sm mb-4 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon-box mb-4">
                                <i class="fas fa-location-dot text-primary fa-2x"></i>
                            </div>
                            <h3 class="h5 mb-3">Location</h3>
                            <p class="text-muted mb-0">Noida Sector 66 UP</p>
                        </div>
                    </div>

                    <!-- Social Links -->
                    {% comment %} <div class="social-links-wrapper text-center mt-4">
                        <h3 class="h5 mb-4">Follow Me</h3>
                        <div class="social-links d-flex justify-content-center gap-3">
                            <a href="#" class="btn btn-primary btn-floating">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="#" class="btn btn-primary btn-floating">
                                <i class="fab fa-linkedin"></i>
                            </a>
                            <a href="#" class="btn btn-primary btn-floating">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="btn btn-primary btn-floating">
                                <i class="fab fa-instagram"></i>
                            </a>
                        </div>
                    </div> {% endcomment %}
                </div>
            </div>

            <!-- Contact Form -->
            <div class="col-lg-8" data-aos="fade-left">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4 p-md-5">
                        <h3 class="card-title mb-4">Send Message</h3>
                        <form id="contact-form" method="POST" action="{% url 'contact' %}">
                            {% csrf_token %}
                            
                            <div class="row g-4">
                                <!-- Name Field -->
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="name" name="name" 
                                               placeholder="Your Name" required>
                                        <label for="name">Your Name</label>
                                    </div>
                                </div>

                                <!-- Email Field -->
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="email" class="form-control" id="email" name="email" 
                                               placeholder="Your Email" required>
                                        <label for="email">Your Email</label>
                                    </div>
                                </div>

                                <!-- Subject Field -->
                                <div class="col-12">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="subject" name="subject" 
                                               placeholder="Subject" required>
                                        <label for="subject">Subject</label>
                                    </div>
                                </div>

                                <!-- Message Field -->
                                <div class="col-12">
                                    <div class="form-floating">
                                        <textarea class="form-control" id="message" name="message" 
                                                  style="height: 150px" placeholder="Your Message" required></textarea>
                                        <label for="message">Your Message</label>
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary btn-lg w-100">
                                        <i class="fas fa-paper-plane me-2"></i>Send Message
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Add this CSS to your style.css or in a style block -->
<style>
    .contact-section {
        background-color: #f8f9fa;
    }

    .divider-custom {
        margin: 1.25rem 0;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .divider-custom-line {
        width: 100%;
        max-width: 7rem;
        height: 0.25rem;
        background-color: #dee2e6;
        border-radius: 1rem;
        margin: 0 1rem;
    }

    .divider-custom-icon {
        color: #0d6efd;
    }

    .feature-icon-box {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: rgba(13, 110, 253, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
    }

    .hover-lift {
        transition: transform 0.3s ease;
    }

    .hover-lift:hover {
        transform: translateY(-5px);
    }

    .btn-floating {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        transition: all 0.3s ease;
    }

    .btn-floating:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .form-floating > label {
        padding-left: 1rem;
    }

    .form-control:focus {
        border-color: #0d6efd;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
</style>

<!-- Add this JavaScript for form handling -->
<script>
$(document).ready(function() {
    $('#contact-form').on('submit', function(e) {
        e.preventDefault();
        
        // Show loading state
        const submitBtn = $(this).find('button[type="submit"]');
        const originalText = submitBtn.html();
        submitBtn.html('<span class="spinner-border spinner-border-sm me-2"></span>Sending...');
        submitBtn.prop('disabled', true);

        $.ajax({
            url: $(this).attr('action'),
            type: 'POST',
            data: $(this).serialize(),
            success: function(response) {
                if(response.status === 'success') {
                    // Show success message
                    Swal.fire({
                        icon: 'success',
                        title: 'Message Sent!',
                        text: 'Thank you for contacting me. I will get back to you soon.',
                        confirmButtonColor: '#0d6efd'
                    });
                    $('#contact-form')[0].reset();
                }
            },
            error: function() {
                // Show error message
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Something went wrong! Please try again later.',
                    confirmButtonColor: '#0d6efd'
                });
            },
            complete: function() {
                // Restore button state
                submitBtn.html(originalText);
                submitBtn.prop('disabled', false);
            }
        });
    });
});
</script>
{% endblock %}